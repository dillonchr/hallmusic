(this.webpackJsonphallmusic=this.webpackJsonphallmusic||[]).push([[0],{11:function(e,t,n){e.exports=n(46)},16:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),u=n.n(o),c=(n(16),n(6)),i=n(4),l=n(3),s=n.n(l),f=n(5),p=["https://apps.jw.org/GETPUBMEDIALINKS?output=json&pub=osg&fileformat=MP3&alllangs=0&langwritten=E&txtCMSLang=E"],m=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.files.E.MP3.map((function(e){return{title:e.title,url:e.file.url,art:e.trackImage.url}})));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(p[0]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g={page:Object(i.css)({textAlign:"center",width:"90vw",margin:"auto"}),audioPlayer:Object(i.css)({width:"100%"}),skipButton:Object(i.css)({background:"#711D8C",border:"none",color:"white",cursor:"pointer",fontSize:"2rem",outline:"none",padding:"2rem"})},d=function(){var e=a.a.useState([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=a.a.useState(null),u=Object(c.a)(o,2),i=u[0],l=u[1],s=function(e){var t=Array.isArray(e)&&e||n;if(!t||!t.length)return f();var a=~~(Math.random()*t.length);l(t[a]),r(t.filter((function(e,t){return t!==a})))},f=function(){h().then((function(e){s(e)}))};return a.a.useEffect((function(){f()}),[]),i?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,i.title),a.a.createElement("img",{src:i.art,alt:i.title}),a.a.createElement("br",null),a.a.createElement("audio",Object.assign({key:i.url,autoPlay:!0,controls:!0,onEnded:s},g.audioPlayer),a.a.createElement("source",{src:i.url,type:"audio/mpeg"})),a.a.createElement("button",Object.assign({},g.skipButton,{onClick:s}),"Next Song")):a.a.createElement("h1",null,"Loading...")},b=function(){return a.a.createElement("div",g.page,a.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.6f1e8dcc.chunk.js.map